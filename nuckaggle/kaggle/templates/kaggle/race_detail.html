{% extends 'kaggle/bar.html' %}

{% block title %}
题目详情
{% endblock %}

{% block content %}
<div class='container'>
    <div class='row'>
        <div class='col-xs-10 col-xs-offset-1'>
            <h3>{{comquestion.title}}</h3>
            <hr>
            <p style="text-indent: 2em;">{{comquestion.content|safe}}</p>

            <div style='margin-top: 1em'>
                <button><a href="{% url 'dlsf' comquestion.id%}">下载原始数据</a></button>
                <button><a href="{% url 'upload_file' comquestion.id %}">上传你处理过的文件</a></button>
            </div>
            
            <div style='margin-top: 1em'>
                <p>
                    {% if previous_comquestion %}
                        上一赛题：<a href="{% url 'race_detail' previous_comquestion.pk %}">{{previous_comquestion.title}}</a><br>
                    {% else %}
                        上一赛题：没有了<br>
                    {% endif %}
                    
                    {% if next_comquestion %}
                        下一赛题：<a href="{% url 'race_detail' next_comquestion.pk %}">{{next_comquestion.title}}</a>
                    {% else %}
                        下一赛题：没有了
                    {% endif %}
                </p>
            </div>

            <div>
                <h2>队伍提交历史</h2>
                <div>
                    {% if has_team %}
                        <h4>队伍名称：{{team.team_name}}</h4>
                        <ul>
                        {% for i in submitfile %}
                            <li>
                                <ul>
                                    <li>提交时间：{{i.submit_time}}</li>
                                    <li>是否由系统计算过得分：{{i.status}}</li>
                                    <li>提交得分：{{i.score}}</li>
                                    <li>系统核查分数时留下信息：{{i.message}}</li>
                                </ul>
                            </li>
                            <br>
                        {% empty %}
                            <p>--您的队伍暂无对该题目的提交信息--</p>
                        {% endfor %}
                        </ul>
                    {% else %}
                        <p>没有和您关联的队伍信息,所以没有队伍的提交历史，或您未登录</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}